{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id" : "http://schema.humancellatlas.org/bundle/4.0.0/sample_bundle.json",
  "description": "A schema for a sample bundle" ,
  "properties": {
    "$schema" : {
        "pattern" : "http://schema.humancellatlas.org/bundle/[0-9]{1,}.[0-9]{1,}.[0-9]{1,}/sample_bundle.json",
        "type": "string"
    }
  },
  "definitions" : {
    "sample_ingest" : {
      "type": "object",
      "required": ["hca_ingest", "content"],
      "properties": {
        "hca_ingest": {
          "$ref": "ingest.json",
          "description": "core fields added by HCA ingest service",
          "type": "object"
        },
        "content": {
          "$ref": "sample.json",
          "description": "Sample content",
          "type": "object"
        },
        "derived_from": {
          "type": "string"
        },
        "derivation_protocols": {
          "items": {
            "$ref": "protocol.json",
            "description": "An array of protocols used in derivation of this sample."
          },
          "type": "array"
        }
      }
    }
  },
  "items": {
    "$ref": "sample_bundle.json#/definitions/sample_ingest"
  },
  "type": "array"
}